(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,n,t){e.exports=t(34)},34:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(7),c=t.n(i),o=t(6),u=t(5),s=t(3),d=t.n(s),l=t(4),p=t(8),m=t(9),f=t(11),h=t(10),x=t(12),b=t(2),g=t(1),v="https://api.openweathermap.org/data/2.5/weather",w="https://api.openweathermap.org/data/2.5/forecast",y="db9072c49ae714096027e364cc2f3d97";function j(){return(j=Object(l.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"?q=").concat(n,"&appid=").concat(y,"&units=metric"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(d.a.mark(function e(n){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"?q=").concat(n,"&appid=").concat(y,"&units=metric"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var k=function(e){return j.apply(this,arguments)},S="AtZXuLgTcqINybvNxDwkEi2zQZ-ZT07_34zj8AYJTWBydl8hmNOqSLn2b6qI7Y-a",N="https://dev.virtualearth.net/REST/v1/TimeZone/";function C(e,n){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(d.a.mark(function e(n,t){var r,a,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N).concat(n,",").concat(t,"?key=").concat(S));case 2:if(200!==(r=e.sent).status){e.next=11;break}return e.next=6,r.json();case 6:return a=e.sent,i=a.resourceSets[0].resources[0].timeZone.convertedTime.utcOffsetWithDst,e.abrupt("return",3600*+i.slice(0,-3));case 11:throw new Error("".concat(r.status,", ").concat(r.statusText));case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function A(e,n){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(d.a.mark(function e(n,t){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n,t);case 2:return r=e.sent,a=60*(new Date).getTimezoneOffset(),e.abrupt("return",r+a);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var D={theme1:{bgColor:"linear-gradient(45deg, #7349e5 0%,#ad1283 76%,#ad1283 100%)",main:"#412198",secondary:"#7349E5",additional:"#FF4500",card:"linear-gradient(to bottom, #BA28DB 0%, #AA18CB 100%)"},theme2:{bgColor:"#FFB2AD",main:"#E89EB5",secondary:"#D796EB",additional:"#EB86AC",card:"#FFBAF8",sideMenu:"#FFBAF8",info:"#D796EB"}};function B(){var e=Object(b.a)(["\n  position: relative;\n  padding: 10px 20px;\n  box-shadow: 0 0 3px 1px rgba(0, 0, 0, 0.4);\n  display: flex;\n  justify-content: space-between;\n  \n  background: ",";\n"]);return B=function(){return e},e}var F=g.d.div(B(),function(e){return e.theme.sideMenu||"linear-gradient(45deg, #CF3BEF 0%,#BA28DB 100%)"}),P=function(e){return a.a.createElement(F,{className:e.className},e.children)};function W(){var e=Object(b.a)(["\n  font-size: ",";\n  text-align: ",";\n"]);return W=function(){return e},e}function M(){var e=Object(b.a)(["\n  font-size: ",";\n"]);return M=function(){return e},e}function I(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n"]);return I=function(){return e},e}var Z=g.d.div(I()),L=g.d.h2(M(),function(e){return e.big?"3em":"1.5em"}),q=g.d.p(W(),function(e){return e.big?"1.5em":"0.75em"},function(e){return e.centered?"center":"end"}),H=function(e){return a.a.createElement(Z,{className:e.className},a.a.createElement(L,{big:e.big},e.temperature,"\xb0C"),a.a.createElement(q,{big:e.big,centered:e.centered},e.weather))};H.defaultProps={big:!1,centered:!1};var J=H;function X(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return X=function(){return e},e}var R=g.d.div(X()),U=function(e){var n=e.humidity,t=e.windSpeed,r=e.pressure;return a.a.createElement(R,{className:e.className},a.a.createElement("p",null,"Humidity: ",n,"%"),a.a.createElement("p",null,"Wind: ",t,"m/s"),a.a.createElement("p",null,"Pressure: ",r,"mm"))};function Y(){var e=Object(b.a)(["\n  flex: 1;\n"]);return Y=function(){return e},e}function Q(){var e=Object(b.a)(["\n  align-self: flex-end;\n  margin-bottom: 8px;\n  \n  @media (max-width: 599px) {\n    margin-bottom: 0;\n  }\n"]);return Q=function(){return e},e}function $(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return $=function(){return e},e}function _(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  box-shadow: 0 0 3px 1px rgba(0, 0, 0, 0.4);\n  padding: 5px 10px;\n  background: ",";\n  \n  @media (min-width: 900px) and (max-width: 1199px) {\n    font-size: 12px;\n  }\n  \n  @media (max-width: 599px) {\n    font-size: 12px;\n  }\n"]);return _=function(){return e},e}var G=g.d.div(_(),function(e){return e.theme.info||"white"}),K=g.d.div($()),V=g.d.p(Q()),ee=Object(g.d)(J)(Y()),ne=function(e){var n=e.humidity,t=e.windSpeed,r=e.pressure,i=e.temperature,c=e.weather,o=e.timeOfDay;return a.a.createElement(G,{className:e.className},a.a.createElement(U,{humidity:n,windSpeed:t,pressure:r}),a.a.createElement(K,null,a.a.createElement(V,null,o),a.a.createElement(ee,{temperature:i,weather:c})))};function te(){var e=Object(b.a)(["\n  @media (max-width: 599px) {\n    font-size: 16px;\n  }\n"]);return te=function(){return e},e}function re(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return re=function(){return e},e}function ae(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return ae=function(){return e},e}var ie=g.d.div(ae()),ce=g.d.div(re()),oe=g.d.h2(te()),ue=function(e){var n=e.day;return a.a.createElement(ie,null,a.a.createElement(ce,null,a.a.createElement(oe,null,n[0].day),a.a.createElement("p",null,n[0].date)),n.map(function(e){return a.a.createElement(ne,Object.assign({},e,{key:e.timeOfDay}))}))};ue.defaultProps={day:[{day:"Monday",date:"01.01"}]};var se=ue;function de(){var e=Object(b.a)(["\n  flex: 1;\n  \n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 15px;\n  \n  @media (max-width: 899px) {\n    grid-auto-flow: row;\n    grid-gap: 5px;\n  }\n"]);return de=function(){return e},e}var le=g.d.div(de()),pe=function(e){return a.a.createElement(P,{className:e.className},a.a.createElement(le,null,e.forecast.map(function(e){return a.a.createElement(se,{day:e,key:e[0].date})})))};pe.defaultProps={forecast:[[]]};var me=pe;function fe(){var e=Object(b.a)(["\n  position: relative;\n  padding: 20px;\n  border-radius: 5px;\n  box-shadow: 0 0 4px 2px rgba(0, 0, 0, 0.4);\n  z-index: 10;\n  \n  background: ",";\n"]);return fe=function(){return e},e}var he=g.d.div(fe(),function(e){return e.theme.card||"linear-gradient(to bottom, #BA28DB 0%, #AA18CB 100%)"}),xe=function(e){return a.a.createElement(he,{className:e.className},e.children)};function be(){var e=Object(b.a)(["\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-rows: ",";\n  grid-template-columns: ",";\n"]);return be=function(){return e},e}var ge=g.d.div(be(),function(e){return e.rows?e.rows.join("fr ")+"fr":"1fr"},function(e){return e.columns?e.columns.join("fr ")+"fr":"1fr"}),ve=function(e){return a.a.createElement(ge,{rows:e.rows,columns:e.columns},e.children)};ve.defaultProps={rows:[1],columns:[1]};var we=ve;function ye(){var e=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ye=function(){return e},e}var je=g.d.h2(ye()),Oe=function(e){return a.a.createElement(je,{className:e.className},e.children)};Oe.defaultProps={children:"Title"};var Ee=Oe;function ke(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]);return ke=function(){return e},e}var Se={hour:"2-digit",minute:"2-digit"},Ne=g.d.div(ke()),Ce=function(e){var n=new Date(e.sunrise).toLocaleString("ru",Se),t=new Date(e.sunset).toLocaleString("ru",Se);return a.a.createElement(Ne,{className:e.className},a.a.createElement("p",null,n),a.a.createElement("p",null,t))};function Te(){var e=Object(b.a)(["\n  padding: 2px 6px;\n  border: 0;\n  border-radius: 5px;\n  background: ",";\n  \n  &:focus {\n    outline: none;\n  }\n  \n  &:active {\n    box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, 0.4);\n    transform: scale(0.95);\n  }\n"]);return Te=function(){return e},e}var Ae=g.d.button(Te(),function(e){return e.theme.additional||"orangered"}),ze=function(e){return a.a.createElement(Ae,{onClick:e.onClick,className:e.className},e.text)};ze.defaultProps={text:"Toggle"};var De=ze;function Be(){var e=Object(b.a)(["\n  position: relative;\n  width: 20px;\n  height: 20px;\n  background: transparent;\n  border: none;\n  \n  &:before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 1px;\n    top: calc(50% - 0.5px);\n    left: 0;\n    transform:  rotate(-45deg);\n    background: black;\n  }\n  \n  &:after {\n    content: '';\n    position: absolute;\n    width: 1px;\n    height: 100%;\n    top: 0;\n    left: calc(50% - 0.5px);\n    transform:  rotate(-45deg);\n    background: black;\n  }\n  \n  &:focus {\n    outline: none;\n  }\n  \n  &:active {\n    transform: translate(1px, 1px);\n  }\n"]);return Be=function(){return e},e}var Fe=g.d.button(Be()),Pe=function(e){return a.a.createElement(Fe,{className:e.className,onClick:e.onClick})};function We(){var e=Object(b.a)(["\n  align-self: center;\n  \n  @media (max-width: 599px) {\n    font-size: 12px;\n  }\n"]);return We=function(){return e},e}function Me(){var e=Object(b.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n"]);return Me=function(){return e},e}function Ie(){var e=Object(b.a)(["\n  margin: 5px 15px;\n"]);return Ie=function(){return e},e}var Ze=Object(g.d)(De)(Ie()),Le=Object(g.d)(Pe)(Me()),qe=Object(g.d)(J)(We()),He=function(e){var n=e.cityName,t=e.temperature,r=e.weather,i=e.humidity,c=e.windSpeed,o=e.pressure,u=e.sunrise,s=e.sunset;return a.a.createElement(xe,{className:e.className},a.a.createElement(Le,{onClick:e.remove}),a.a.createElement(we,{rows:[1,2,3,2,1]},a.a.createElement(Ee,null,n),a.a.createElement(qe,{temperature:t,weather:r,centered:!0,big:!0}),a.a.createElement(U,{humidity:i,windSpeed:c,pressure:o}),a.a.createElement(Ce,{sunrise:u,sunset:s}),a.a.createElement(Ze,{text:"Forecast",onClick:e.toggle})))};function Je(){var e=Object(b.a)(["\n  position: relative;\n  z-index: 5;\n  margin: 20px;\n"]);return Je=function(){return e},e}function Xe(){var e=Object(b.a)(["\n  position: relative;\n  z-index: 3;\n  margin: 20px 20px 20px -20px;\n  border-radius: 0 5px 5px 0;\n  \n  @media (max-width: 899px) {\n    margin: -20px 20px 20px 20px;\n    border-radius: 0 0 5px 5px;\n  }\n"]);return Xe=function(){return e},e}function Re(){var e=Object(b.a)(["\n  position: relative;\n  z-index: 1;\n  display: grid;\n"]);return Re=function(){return e},e}var Ue=g.d.div(Re()),Ye=Object(g.d)(me)(Xe()),Qe=Object(g.d)(He)(Je()),$e=function(e){var n=e.cityName,t=e.temperature,r=e.weather,i=e.humidity,c=e.windSpeed,o=e.pressure,u=e.sunrise,s=e.sunset,d=e.forecast;return a.a.createElement(Ue,{open:e.open,className:e.className},a.a.createElement(Qe,{cityName:n,temperature:t,weather:r,humidity:i,windSpeed:c,pressure:o,sunrise:u,sunset:s,remove:e.remove,toggle:e.toggle}),e.open&&a.a.createElement(Ye,{forecast:d}))};$e.defaultProps={forecast:[],open:!1};var _e=$e;function Ge(){var e=Object(b.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 56px;\n  font-weight: bold;\n  color: ",";\n  transform: rotate(-5deg);\n  \n  @media (max-width: 599px) {\n    font-size: 38px;\n  }\n"]);return Ge=function(){return e},e}var Ke=g.d.h1(Ge(),function(e){return e.theme.additional||"orangered"}),Ve=function(e){return a.a.createElement(Ke,null,e.children)};Ve.defaultProps={children:"Logo"};var en=Ve;function nn(){var e=Object(b.a)(["\n  position: relative;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  border: 0;\n  background: radial-gradient(farthest-side at 35% 35%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.1)),\n              ",";\n  \n  &:focus {\n    outline: none;\n  }\n"]);return nn=function(){return e},e}var tn=g.d.button(nn(),function(e){return e.color}),rn=function(e){var n=e.className,t=e.color,r=e.pickTheme;return a.a.createElement(tn,{className:n,color:t,onClick:r})};rn.defaultProps={color:"#555",pickTheme:function(){}};var an=rn;function cn(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]);return cn=function(){return e},e}var on=g.d.div(cn()),un=/(#[0-9abcdef]{3,6})|(rgba?\(.+\))|(hsla?\(.+\))/i,sn=function(e){var n=e.className,t=e.themes,r=e.selectTheme,i=Object.keys(t).map(function(e){var n=t[e],i=Object.keys(n).map(function(e){var t=n[e].match(un);return t?t[0]:""});return i=1===i.length?i[0]:"linear-gradient(135deg, ".concat(i.join(","),")"),a.a.createElement(an,{color:i,pickTheme:function(){return r(t[e])},key:e})});return a.a.createElement(on,{className:n},i)};sn.defaultProps={themes:[{placeholder:"#555"}],selectTheme:function(){}};var dn=sn;function ln(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-end;\n  \n  @media (min-width: 900px) {\n    flex-direction: column;\n  }\n"]);return ln=function(){return e},e}function pn(){var e=Object(b.a)(["\n  position: relative;\n  z-index: 10;\n  padding: 5px;\n  border-radius: 2px 2px 0 0;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  \n  @media (max-width: 899px) {\n    flex-direction: column;\n    padding-top: 5%;\n  }\n  \n  @media (min-width: 900px) {\n    padding-left: 5%;\n  }\n"]);return pn=function(){return e},e}var mn=g.d.div(pn(),function(e){return e.theme.main||"#412198"}),fn=g.d.div(ln()),hn=function(e){return a.a.createElement(mn,null,a.a.createElement(en,null,"WeatherApp"),a.a.createElement(fn,null,a.a.createElement(dn,{themes:e.themes,selectTheme:e.selectTheme})))};function xn(){var e=Object(b.a)(["\n  padding: 2px 4px;\n  border: 0;\n  border-radius: 5px;\n  box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.4);\n  background: ",";\n  \n  &:active {\n    transform: translate(1px, 1px);\n    box-shadow: none;\n  }\n  \n  &:focus {\n    outline: none;\n  }\n"]);return xn=function(){return e},e}function bn(){var e=Object(b.a)(["\n  padding: 0 3px;\n  border: 2px solid ",";\n  border-radius: 5px;\n  background: transparent;\n  color: white;\n  \n  &:focus {\n    outline: none;\n  }\n"]);return bn=function(){return e},e}function gn(){var e=Object(b.a)(["\n  flex: 1;\n  display: grid;\n  grid-template-columns: 3fr 1fr;\n  grid-column-gap: 10px;\n"]);return gn=function(){return e},e}var vn=g.d.form(gn()),wn=g.d.input(bn(),function(e){return e.theme.additional||"orangered"}),yn=g.d.button(xn(),function(e){return e.theme.additional||"orangered"}),jn=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(f.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(a)))).state={value:""},t.handleChange=function(e){t.setState({value:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.onSubmit(t.state.value),t.setState({value:""})},t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"render",value:function(){var e=this.props,n=e.placeholder,t=e.text,r=e.className;return a.a.createElement(vn,{onSubmit:this.handleSubmit,className:r},a.a.createElement(wn,{type:"text",value:this.state.value,onChange:this.handleChange,placeholder:n}),a.a.createElement(yn,{type:"Submit"},t))}}]),n}(a.a.Component);jn.defaultProps={text:"Add",placeholder:"",onSubmit:function(){}};var On=jn;function En(){var e=Object(b.a)(["\n    @media (max-width: 899px) {\n       grid-row-end: span 4;\n       grid-template-rows: 1fr 3fr;\n    }\n     @media (min-width: 900px) {\n       grid-template-columns: 1fr 3fr;\n       grid-column-end: span 4;\n     }"]);return En=function(){return e},e}function kn(){var e=Object(b.a)(["\n  ","\n"]);return kn=function(){return e},e}function Sn(){var e=Object(b.a)(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10;\n  padding: 5px 10px;\n  border-radius: 0 0 5px 5px;\n  box-shadow: 0 0 3px 3px rgba(0, 0, 0, 0.4);\n  display: flex;\n  \n  background: ",";\n"]);return Sn=function(){return e},e}function Nn(){var e=Object(b.a)(["\n  position: relative;\n  z-index: 5;\n  border-radius: 0 0 2px 2px;\n  box-shadow: inset 0 0 3px 3px rgba(0, 0, 0, 0.4);\n  display: grid;\n\n  background: ",";\n\n  @media (max-width: 599px) {\n    grid-auto-rows: 400px;\n  }\n\n  @media (min-width: 600px) and (max-width: 899px) {\n    grid-auto-rows: 720px;\n  }\n\n  @media (min-width: 900px) {\n    grid-template-columns: repeat(4, 1fr);\n    grid-auto-rows: 560px;\n  }\n"]);return Nn=function(){return e},e}function Cn(){var e=Object(b.a)(["\n  position: relative;\n  width: 95%;\n  max-width: 1400px;\n  border-radius: 5px;\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.4);\n  display: grid;\n  \n  border: 2px solid ",";\n\n  @media (max-width: 599px) {\n    grid-template-rows: 100px minmax(400px, 1fr);\n  }\n\n  @media (min-width: 600px) and (max-width: 899px) {\n    grid-template-rows: 180px minmax(720px, 1fr);\n    width: 75%;\n  }\n\n  @media (min-width: 900px) {\n    grid-template-rows: 140px minmax(560px, 1fr);\n  }\n"]);return Cn=function(){return e},e}var Tn=g.d.section(Cn(),function(e){return e.theme.main||"#412198"}),An=g.d.div(Nn(),function(e){return e.theme.secondary||"#7349E5"}),zn=g.d.div(Sn(),function(e){return e.theme.main||"#412198"}),Dn=Object(g.d)(_e)(kn(),function(e){return e.open?Object(g.c)(En()):""}),Bn=function(e){var n=e.cards,t=e.increment,r=e.decrement,i=e.remove,c=e.add,o=e.className,u=e.themes,s=e.selectTheme,d=Object.keys(n).map(function(e){var c=n[e];return a.a.createElement(Dn,Object.assign({},c,{key:c.cityName,open:2===c.stage,toggle:1===c.stage?function(){return t(e)}:function(){return r(e)},remove:function(){return i(e)}}))});return a.a.createElement(Tn,{className:o},a.a.createElement(hn,{themes:u,selectTheme:s}),a.a.createElement(An,null,a.a.createElement(zn,null,a.a.createElement(On,{text:"Add City",onSubmit:c})),d))};Bn.defaultProps={cards:{}};var Fn=Bn;function Pn(){var e=Object(b.a)(["\n  font-size: 1.5em;\n"]);return Pn=function(){return e},e}function Wn(){var e=Object(b.a)(["\n    border: 1px solid rgb(183, 123, 1);\n    background: rgb(255, 195, 80);\n  "]);return Wn=function(){return e},e}function Mn(){var e=Object(b.a)(["\n    border: 1px solid rgb(151, 27, 27);\n    background: rgb(196, 84, 83);\n  "]);return Mn=function(){return e},e}function In(){var e=Object(b.a)(["\n  position: fixed;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 1000;\n  width: 90%;\n  max-width: 450px;\n  padding: 12px 20px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4), inset 0 1px 0 0 rgba(240, 240, 240, 0.4);\n  display: grid;\n  grid-gap: 5px;\n  justify-items: center;\n  border-radius: 3px;\n  color: rgb(255, 255, 255);\n  ","\n"]);return In=function(){return e},e}var Zn=g.d.div(In(),function(e){return e.type}),Ln={danger:Object(g.c)(Mn()),warning:Object(g.c)(Wn())},qn=g.d.p(Pn()),Hn=function(e){var n=e.className,t=e.type,r=e.title,i=e.message;return a.a.createElement(Zn,{className:n,type:Ln[t]},a.a.createElement(qn,null,r),a.a.createElement("p",null,i))};Hn.defaultProps={type:"danger"};var Jn=Hn,Xn=function(){return a.a.createElement(Jn,{message:"Check the spelling of the city name. Or try again later.",title:"Something went wrong!",type:"danger"})},Rn=function(){return a.a.createElement(Jn,{message:"Time info might be incorrect if time zone of a city is different from UTC-0. Sorry for inconvenience",title:"Beware of time info!",type:"warning"})},Un="trnsl.1.1.20190408T131030Z.aa191d583b07949e.33697662ad8fa451f72fb8c8a81952e676a4667f",Yn="https://translate.yandex.net/api/v1.5/tr.json/translate";function Qn(){return(Qn=Object(l.a)(d.a.mark(function e(n){var t,r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=encodeURIComponent(n))!==n){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,fetch("".concat(Yn,"?key=").concat(Un,"&text=").concat(t,"&lang=en"));case 5:if(200===(r=e.sent).status){e.next=8;break}throw new Error("".concat(r.status,", ").concat(r.statusText));case 8:return e.next=10,r.json();case 10:return a=e.sent,e.abrupt("return",a.text[0]);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var $n=function(e){return Qn.apply(this,arguments)};function _n(){var e=Object(b.a)(["\n  min-height: 100vh;\n  padding: 5vh 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  background: ",";\n"]);return _n=function(){return e},e}function Gn(){var e=Object(b.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"]);return Gn=function(){return e},e}function Kn(e,n,t){for(e=e.slice();e.length;)t[e.pop()]=n}var Vn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],et={};Kn([6,7,8],"Morning",et),Kn([12,13,14],"Afternoon",et),Kn([21,22,23],"Evening",et),Kn([0,1,2],"Night",et);var nt={month:"2-digit",day:"2-digit"},tt=Object(g.b)(Gn()),rt=g.d.div(_n(),function(e){return e.theme.bgColor||"linear-gradient(45deg, #7349e5 0%,#ad1283 76%,#ad1283 100%)"}),at=function(e){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=Object(f.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(i)))).state={cards:{},currentTheme:D.theme1,popupShowing:null},t.selectTheme=function(e){t.setState({currentTheme:e})},t.parseWeatherForecast=function(e,n){for(var t=[6,7,8,12,13,14,21,22,23,0,1,2],r=[],a=function(a,i){var o=new Date(1e3*(e[a].dt+n)).getHours();if(6===o||7===o||8===o){if(4===++i)return c=i,"break";r[i]=[]}t.some(function(e){return e===o})&&i>=0&&r[i].push(e[a]),c=i},i=0,c=-1;i<e.length;i++){if("break"===a(i,c))break}return r=r.map(function(e){return e.map(function(e){var t=new Date(1e3*(e.dt+n));return{temperature:Math.round(e.main.temp),pressure:Math.round(.75006375541921*e.main.pressure),humidity:e.main.humidity,windSpeed:e.wind.speed,windDirection:e.wind.deg,weather:e.weather[0].main,timeOfDay:et[t.getHours()],date:t.toLocaleString("ru",nt),day:Vn[t.getDay()]}})})},t.submitHandler=function(){var e=Object(l.a)(d.a.mark(function e(n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$n(n);case 3:if(r=e.sent,!t.state.cards[r]){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.getWeather(r);case 8:t.storeCity(r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t.showPopup("error");case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(n){return e.apply(this,arguments)}}(),t.incrementStage=function(e){0===t.state.cards[e].forecast.length&&t.getForecast(e),t.setState(function(n){return{cards:Object(u.a)({},n.cards,Object(o.a)({},e,Object(u.a)({},n.cards[e],{stage:n.cards[e].stage+1})))}})},t.decrementStage=function(e){t.setState(function(n){return{cards:Object(u.a)({},n.cards,Object(o.a)({},e,Object(u.a)({},n.cards[e],{stage:n.cards[e].stage-1})))}})},t.removeCity=function(e){var n=Object(u.a)({},t.state.cards);delete n[e],t.setState({cards:n}),t.removeStoredCity(e)},t.storeCity=function(e){var n=localStorage.getItem("weatherAppCitiesAdded")||"",t=n?";"+e:e;localStorage.setItem("weatherAppCitiesAdded",n+t)},t.removeStoredCity=function(e){var n=localStorage.getItem("weatherAppCitiesAdded"),t=n?n.split(";").filter(function(n){return n!==e}):[];localStorage.setItem("weatherAppCitiesAdded",t.join(";"))},t.showPopup=function(e){var n;switch(e){case"error":n=a.a.createElement(Xn,null);break;case"warning":n=a.a.createElement(Rn,null);break;default:n=null}t.setState({popupShowing:n}),setTimeout(function(){return t.setState({popupShowing:null})},3e3)},t.getWeather=function(){var e=Object(l.a)(d.a.mark(function e(n){var r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:if(200===(r=e.sent).cod||"200"===r.cod){e.next=5;break}throw new Error("".concat(r.cod,", ").concat(r.message));case 5:return e.prev=5,e.next=8,A(r.coord.lat,r.coord.lon);case 8:a=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0.message),t.showPopup("warning");case 15:return t.setState(function(e){return{cards:Object(u.a)({},e.cards,Object(o.a)({},r.name,{stage:1,cityName:"".concat(r.name,", ").concat(r.sys.country),temperature:Math.round(r.main.temp),pressure:Math.round(.75006375541921*r.main.pressure),humidity:r.main.humidity,windSpeed:r.wind.speed,windDirection:r.wind.deg,sunrise:1e3*(r.sys.sunrise+a),sunset:1e3*(r.sys.sunset+a),weather:r.weather[0].main,timeZoneOffset:a,forecast:[]}))}}),e.abrupt("return",!0);case 17:case"end":return e.stop()}},e,this,[[5,11]])}));return function(n){return e.apply(this,arguments)}}(),t.getForecast=function(){var e=Object(l.a)(d.a.mark(function e(n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n);case 2:if("200"===(r=e.sent).cod||200===r.cod){e.next=5;break}return e.abrupt("return");case 5:t.setState(function(e){return{cards:Object(u.a)({},e.cards,Object(o.a)({},n,Object(u.a)({},e.cards[n],{forecast:t.parseWeatherForecast(r.list,e.cards[n].timeZoneOffset)})))}});case 6:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(x.a)(n,e),Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("weatherAppCitiesAdded");(e?e.split(";"):[]).forEach(this.getWeather)}},{key:"render",value:function(){return a.a.createElement(g.a,{theme:this.state.currentTheme},a.a.createElement(rt,null,this.state.popupShowing,a.a.createElement(tt,null),a.a.createElement(Fn,{cards:this.state.cards,themes:D,selectTheme:this.selectTheme,add:this.submitHandler,decrement:this.decrementStage,increment:this.incrementStage,remove:this.removeCity})))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.bf8e5daa.chunk.js.map